<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delhi MSME Resilience Hub</title>
<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Arial, sans-serif;
    background: #f5f5f5;
    color: #333;
  }

  /* Hero Banner */
  .hero {
    position: relative;
    height: 60vh;
    background: url('https://images.unsplash.com/photo-1603398938378-c7c8d4b5dd01?fit=crop&w=1600&q=80') center/cover no-repeat;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white;
  }
  .hero::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(8, 8, 8, 0.6);
  }
  .hero-content {
    position: relative;
    z-index: 1;
    padding: 20px;
  }
  .hero-content h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
  }
  .hero-content p {
    font-size: 1.2rem;
  }

  #lang-toggle {
    background: white;
    color: #232c34;
    border: none;
    padding: 6px 14px;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    margin-top: 15px;
  }

  main { padding: 20px; }

  /* Auth Card */
  .auth-container {
    background: #fff;
    width: 320px;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    margin: -80px auto 40px;
    text-align: center;
    position: relative;
    z-index: 2;
  }
  .auth-container input {
    width: 100%;
    padding: 10px;
    margin: 8px 0;
    border-radius: 8px;
    border: 1px solid #ccc;
  }
  .auth-container button {
    width: 100%;
    padding: 10px;
    margin-top: 8px;
    background: #232c34;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
  }
  .auth-container p {
    font-size: 14px;
    margin-top: 10px;
  }
  .auth-container p a {
    color: #232c34;
    text-decoration: none;
    font-weight: bold;
  }

  .hidden { display: none; }

  h2.section-title {
    text-align: center;
    margin-top: 50px;
    color: #232c34;
  }

  /* Grid layouts */
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
    margin-top: 20px;
  }

  .card {
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    opacity: 0;
    transform: translateY(50px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }
  .card.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* AI Helper */
  #ai-helper {
    position: fixed;
    bottom: 20px;
    right: 20px;
    cursor: move;
    z-index: 200;
  }
  #chat-toggle {
    background: #232c34;
    color: white;
    border: none;
    padding: 15px;
    border-radius: 50%;
    font-size: 20px;
    cursor: pointer;
  }
  #chat-box {
    position: absolute;
    bottom: 70px;
    right: 0;
    width: 280px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    padding: 10px;
    display: flex;
    flex-direction: column;
  }
  #chat-messages {
    flex: 1;
    overflow-y: auto;
    max-height: 200px;
    margin-bottom: 10px;
  }
  #chat-input {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 5px;
  }
  #send-btn {
    margin-top: 5px;
    background: #003366;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 8px;
    cursor: pointer;
  }
</style>
</head>
<body>
  <section class="hero">
    <div class="hero-content">
      <h1 id="title">Delhi MSME Resilience Hub</h1>
      <p id="subtitle">Building Resilient MSMEs through Access to Finance, Markets & Technology</p>
      <button id="lang-toggle">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
    </div>
  </section>

  <main>
    <!-- Portal Selection -->
  <div class="auth-container" id="role-select">
    <h2>Select Your Portal</h2>
    <button onclick="selectRole('seller')">MSME Entrepreneur</button>
    <button onclick="selectRole('buyer')">Sustainable Buyer</button>
    <button onclick="selectRole('investor')">Impact Investor</button>
  </div>

  <!-- Seller Portal -->
  <div class="auth-container hidden" id="seller-login">
    <h2>Seller Login</h2>
    <input type="text" id="seller-username" placeholder="Username">
    <input type="password" id="seller-password" placeholder="Password">
    <button onclick="login('seller')">Login</button>
    <p>Don't have an account? <a href="#" onclick="toggleRegister('seller')">Register here</a></p>
    <a href="#" onclick="backToRoleSelect()">üîô Back / ‡§™‡•Ä‡§õ‡•á ‡§ú‡§æ‡§ì</a>
  </div>

  <div class="auth-container hidden" id="seller-register">
    <h2>Seller Registration</h2>
    <input type="text" id="seller-reg-username" placeholder="Username">
    <input type="password" id="seller-reg-password" placeholder="Password">
    <input type="text" id="seller-reg-msme" placeholder="MSME Name">
    <button onclick="register('seller')">Register</button>
    <p>Already have an account? <a href="#" onclick="toggleLogin('seller')">Login here</a></p>
    <a href="#" onclick="backToRoleSelect()">üîô Back / ‡§™‡•Ä‡§õ‡•á ‡§ú‡§æ‡§ì</a>
  </div>

  <!-- Buyer Portal -->
  <div class="auth-container hidden" id="buyer-login">
    <h2>Buyer Login</h2>
    <input type="text" id="buyer-username" placeholder="Username">
    <input type="password" id="buyer-password" placeholder="Password">
    <button onclick="login('buyer')">Login</button>
    <p>Don't have an account? <a href="#" onclick="toggleRegister('buyer')">Register here</a></p>
    <a href="#" onclick="backToRoleSelect()">üîô Back / ‡§™‡•Ä‡§õ‡•á ‡§ú‡§æ‡§ì</a>
  </div>

  <div class="auth-container hidden" id="buyer-register">
    <h2>Buyer Registration</h2>
    <input type="text" id="buyer-reg-username" placeholder="Username">
    <input type="password" id="buyer-reg-password" placeholder="Password">
    <button onclick="register('buyer')">Register</button>
    <p>Already have an account? <a href="#" onclick="toggleLogin('buyer')">Login here</a></p>
    <a href="#" onclick="backToRoleSelect()">üîô Back / ‡§™‡•Ä‡§õ‡•á ‡§ú‡§æ‡§ì</a>
  </div>

  <!-- Investor Portal -->
  <div class="auth-container hidden" id="investor-login">
    <h2>Investor Login</h2>
    <input type="text" id="investor-username" placeholder="Username">
    <input type="password" id="investor-password" placeholder="Password">
    <button onclick="login('investor')">Login</button>
    <p>Don't have an account? <a href="#" onclick="toggleRegister('investor')">Register here</a></p>
    <a href="#" onclick="backToRoleSelect()">üîô Back / ‡§™‡•Ä‡§õ‡•á ‡§ú‡§æ‡§ì</a>
  </div>

  <div class="auth-container hidden" id="investor-register">
    <h2>Investor Registration</h2>
    <input type="text" id="investor-reg-username" placeholder="Username">
    <input type="password" id="investor-reg-password" placeholder="Password">
    <button onclick="register('investor')">Register</button>
    <p>Already have an account? <a href="#" onclick="toggleLogin('investor')">Login here</a></p>
    <a href="#" onclick="backToRoleSelect()">üîô Back / ‡§™‡•Ä‡§õ‡•á ‡§ú‡§æ‡§ì</a>
  </div>


    <!-- Focus Areas -->
    <h2 class="section-title" id="focusTitle">Our Focus Areas</h2>
    <div class="grid" id="focusGrid">
      <div class="card"><h3 id="financeHub">Finance Hub</h3><p id="financeDesc">Digital loans, invoice discounting, peer-to-peer lending.</p></div>
      <div class="card"><h3 id="marketHub">Market Access Hub</h3><p id="marketDesc">B2B marketplace, export linkages, vendor development programs.</p></div>
      <div class="card"><h3 id="techHub">Technology Hub</h3><p id="techDesc">Digital tools, ERP/CRM support, training & mentorship.</p></div>
    </div>

    <!-- Challenges and Solutions -->
    <h2 class="section-title" id="problemTitle">Key Challenges and Solutions</h2>
    <div class="grid" id="problemsGrid"></div>
  </main>

  <!-- AI Helper -->
  <div id="ai-helper">
    <button id="chat-toggle">ü§ñ</button>
    <div id="chat-box" class="hidden">
      <div id="chat-messages"></div>
      <input type="text" id="chat-input" placeholder="Ask me...">
      <button id="send-btn">Send</button>
    </div>
  </div>

<script>
    function selectRole(role) {
    document.getElementById('role-select').classList.add('hidden');
    document.getElementById(`${role}-login`).classList.remove('hidden');
  }

  function toggleRegister(role) {
    document.getElementById(`${role}-login`).classList.add('hidden');
    document.getElementById(`${role}-register`).classList.remove('hidden');
  }

  function toggleLogin(role) {
    document.getElementById(`${role}-register`).classList.add('hidden');
    document.getElementById(`${role}-login`).classList.remove('hidden');
  }

  function backToRoleSelect() {
    ['seller', 'buyer', 'investor'].forEach(role => {
      document.getElementById(`${role}-login`).classList.add('hidden');
      document.getElementById(`${role}-register`).classList.add('hidden');
    });
    document.getElementById('role-select').classList.remove('hidden');
  }

  function login(role) {
    const username = document.getElementById(`${role}-username`).value.trim();
    const password = document.getElementById(`${role}-password`).value.trim();
    if (!username || !password) {
      alert('Please enter both username and password.');
      return;
    }
    alert(`${role} login successful!`);
  }

  function register(role) {
    const username = document.getElementById(`${role}-reg-username`).value.trim();
    const password = document.getElementById(`${role}-reg-password`).value.trim();
    if (!username || !password) {
      alert('Please fill all fields.');
      return;
    }
    alert(`${role} registered successfully!`);
    toggleLogin(role);
  }
/* --- Data --- */
const problemsData = [
  { en:["1. Limited Credit Access","Solution: Digital credit scoring using GST/UPI data."],
    hi:["1. ‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§ã‡§£ ‡§™‡§π‡•Å‡§Å‡§ö","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä/‡§Ø‡•Ç‡§™‡•Ä‡§Ü‡§à ‡§°‡•á‡§ü‡§æ ‡§∏‡•á ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§ï‡•ç‡§∞‡•á‡§°‡§ø‡§ü ‡§∏‡•ç‡§ï‡•ã‡§∞‡§ø‡§Ç‡§ó‡•§"] },
  { en:["2. Delayed Payments","Solution: Invoice discounting & blockchain contracts."],
    hi:["2. ‡§µ‡§ø‡§≤‡§Ç‡§¨‡§ø‡§§ ‡§≠‡•Å‡§ó‡§§‡§æ‡§®","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§á‡§®‡§µ‡•â‡§á‡§∏ ‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§Ö‡§®‡•Å‡§¨‡§Ç‡§ß‡•§"] },
  { en:["3. Poor Market Linkage","Solution: Cluster-based B2B e-marketplaces."],
    hi:["3. ‡§ï‡§Æ‡§ú‡•ã‡§∞ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§ï‡•ç‡§≤‡§∏‡•ç‡§ü‡§∞ ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§¨‡•Ä2‡§¨‡•Ä ‡§à-‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü‡§™‡•ç‡§≤‡•á‡§∏‡•§"] },
  { en:["4. Weak Digital Presence","Solution: Digital starter kits for websites & catalogs."],
    hi:["4. ‡§ï‡§Æ‡§ú‡•ã‡§∞ ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§â‡§™‡§∏‡•ç‡§•‡§ø‡§§‡§ø","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§î‡§∞ ‡§ï‡•à‡§ü‡§≤‡•â‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü‡§∞ ‡§ï‡§ø‡§ü‡•§"] },
  { en:["5. Lack of E-commerce Capability","Solution: MSME-friendly portal linked with Amazon/Flipkart."],
    hi:["5. ‡§à-‡§ï‡•â‡§Æ‡§∞‡•ç‡§∏ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§è‡§Æ‡§è‡§∏‡§è‡§Æ‡§à ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§ú‡•ã ‡§Ö‡§Æ‡•á‡§ú‡§º‡§®/‡§´‡•ç‡§≤‡§ø‡§™‡§ï‡§æ‡§∞‡•ç‡§ü ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡§æ ‡§π‡•ã‡•§"] },
  { en:["6. Low Tech Adoption","Solution: Subsidized SaaS ERP/CRM tools."],
    hi:["6. ‡§ï‡§Æ ‡§§‡§ï‡§®‡•Ä‡§ï‡•Ä ‡§Ö‡§™‡§®‡§æ‡§®‡§æ","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§∏‡§¨‡•ç‡§∏‡§ø‡§°‡•Ä ‡§µ‡§æ‡§≤‡•á SaaS ERP/CRM ‡§ü‡•Ç‡§≤‡•§"] },
  { en:["7. Skill Gaps","Solution: AI-based learning apps and workshops."],
    hi:["7. ‡§ï‡•å‡§∂‡§≤ ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§è‡§Ü‡§à ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§≤‡§∞‡•ç‡§®‡§ø‡§Ç‡§ó ‡§ê‡§™‡•ç‡§∏ ‡§î‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§∂‡§æ‡§≤‡§æ‡§è‡§Ç‡•§"] },
  { en:["8. Regulatory Burden","Solution: Single-window compliance portal."],
    hi:["8. ‡§®‡§ø‡§Ø‡§æ‡§Æ‡§ï ‡§¨‡•ã‡§ù","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§∏‡§ø‡§Ç‡§ó‡§≤ ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§Ö‡§®‡•Å‡§™‡§æ‡§≤‡§® ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤‡•§"] },
  { en:["9. Costly Tech Upgrade","Solution: Shared tech centers & low-interest loans."],
    hi:["9. ‡§Æ‡§π‡§Ç‡§ó‡§æ ‡§§‡§ï‡§®‡•Ä‡§ï‡•Ä ‡§â‡§®‡•ç‡§®‡§Ø‡§®","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§∏‡§æ‡§ù‡§æ ‡§ü‡•á‡§ï ‡§∏‡•á‡§Ç‡§ü‡§∞ ‡§î‡§∞ ‡§ï‡§Æ ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§µ‡§æ‡§≤‡•á ‡§ã‡§£‡•§"] },
  { en:["10. Awareness Gaps","Solution: Awareness hubs & mobile apps in local languages."],
    hi:["10. ‡§ú‡§æ‡§ó‡§∞‡•Ç‡§ï‡§§‡§æ ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä","‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®: ‡§ú‡§æ‡§ó‡§∞‡•Ç‡§ï‡§§‡§æ ‡§π‡§¨ ‡§î‡§∞ ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§ê‡§™‡•§"] },
];
let currentLang='en';

/* --- Render problems grid --- */
function renderProblems(){
  const container=document.getElementById('problemsGrid');
  container.innerHTML="";
  problemsData.forEach(p=>{
    const [title,desc]=p[currentLang];
    const card=document.createElement('div');
    card.className='card';
    card.innerHTML=`<h4>${title}</h4><p>${desc}</p>`;
    container.appendChild(card);
  });
  observeCards();
}
renderProblems();

/* --- Language toggle --- */
document.getElementById('lang-toggle').addEventListener('click',()=>{
  currentLang=currentLang==='en'?'hi':'en';
  document.getElementById('lang-toggle').textContent=currentLang==='en'?'‡§π‡§ø‡§®‡•ç‡§¶‡•Ä':'English';
  document.getElementById('title').textContent=currentLang==='en'?"Delhi MSME Resilience Hub":"‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä ‡§è‡§Æ‡§è‡§∏‡§è‡§Æ‡§à ‡§∞‡•á‡§ú‡§º‡§ø‡§≤‡§ø‡§è‡§Ç‡§∏ ‡§π‡§¨";
  document.getElementById('subtitle').textContent=currentLang==='en'?"Building Resilient MSMEs through Access to Finance, Markets & Technology":"‡§µ‡§ø‡§§‡•ç‡§§, ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§î‡§∞ ‡§™‡•ç‡§∞‡•å‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï‡•Ä ‡§ï‡•Ä ‡§™‡§π‡•Å‡§Ç‡§ö ‡§∏‡•á MSMEs ‡§ï‡•ã ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§®‡§æ";
  document.getElementById('focusTitle').textContent=currentLang==='en'?"Our Focus Areas":"‡§π‡§Æ‡§æ‡§∞‡•á ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞";
  document.getElementById('financeHub').textContent=currentLang==='en'?"Finance Hub":"‡§µ‡§ø‡§§‡•ç‡§§ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞";
  document.getElementById('financeDesc').textContent=currentLang==='en'?"Digital loans, invoice discounting, peer-to-peer lending.":"‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§ã‡§£, ‡§á‡§®‡§µ‡•â‡§á‡§∏ ‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü‡§ø‡§Ç‡§ó, ‡§™‡•Ä2‡§™‡•Ä ‡§≤‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó‡•§";
  document.getElementById('marketHub').textContent=currentLang==='en'?"Market Access Hub":"‡§¨‡§æ‡§ú‡§º‡§æ‡§∞ ‡§™‡§π‡•Å‡§Ç‡§ö ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞";
  document.getElementById('marketDesc').textContent=currentLang==='en'?"B2B marketplace, export linkages, vendor development programs.":"‡§¨‡•Ä2‡§¨‡•Ä ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü‡§™‡•ç‡§≤‡•á‡§∏, ‡§®‡§ø‡§∞‡•ç‡§Ø‡§æ‡§§ ‡§∏‡§Ç‡§¨‡§Ç‡§ß, ‡§µ‡•á‡§Ç‡§°‡§∞ ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ‡•§";
  document.getElementById('techHub').textContent=currentLang==='en'?"Technology Hub":"‡§™‡•ç‡§∞‡•å‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï‡•Ä ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞";
  document.getElementById('techDesc').textContent=currentLang==='en'?"Digital tools, ERP/CRM support, training & mentorship.":"‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§ü‡•Ç‡§≤, ‡§à‡§Ü‡§∞‡§™‡•Ä/‡§∏‡•Ä‡§Ü‡§∞‡§è‡§Æ ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü, ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§î‡§∞ ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§®‡•§";
  document.getElementById('problemTitle').textContent=currentLang==='en'?"Key Challenges and Solutions":"‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ö‡•Å‡§®‡•å‡§§‡§ø‡§Ø‡§æ‡§Å ‡§î‡§∞ ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®";
  document.getElementById('loginTitle').textContent=currentLang==='en'?"MSME Owner Login":"‡§è‡§Æ‡§è‡§∏‡§è‡§Æ‡§à ‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§≤‡•â‡§ó‡§ø‡§®";
  document.getElementById('registerTitle').textContent=currentLang==='en'?"Register Your MSME":"‡§Ö‡§™‡§®‡§æ ‡§è‡§Æ‡§è‡§∏‡§è‡§Æ‡§à ‡§™‡§Ç‡§ú‡•Ä‡§ï‡•É‡§§ ‡§ï‡§∞‡•á‡§Ç";
  document.getElementById('registerPrompt').innerHTML=currentLang==='en'?"Don't have an account? <a href='#' onclick='toggleRegister()'>Register here</a>":"‡§ñ‡§æ‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à? <a href='#' onclick='toggleRegister()'>‡§Ø‡§π‡§æ‡§Ç ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç</a>";
  document.getElementById('loginPrompt').innerHTML=currentLang==='en'?"Already have an account? <a href='#' onclick='toggleRegister()'>Login here</a>":"‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§ñ‡§æ‡§§‡§æ ‡§π‡•à? <a href='#' onclick='toggleRegister()'>‡§Ø‡§π‡§æ‡§Ç ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</a>";
  renderProblems();
});

/* --- Login/Register logic --- */
function toggleRegister(){
  document.getElementById('login-card').classList.toggle('hidden');
  document.getElementById('register-card').classList.toggle('hidden');
}
function register(){
  const u=document.getElementById('reg-username').value.trim();
  const p=document.getElementById('reg-password').value.trim();
  const m=document.getElementById('reg-msme').value.trim();
  if(!u||!p||!m){alert('Fill all fields');return;}
  localStorage.setItem('msmeUser',JSON.stringify({username:u,password:p,msme:m}));
  alert('Registration successful! Please login.');
  toggleRegister();
}
function login(){
  const u=document.getElementById('login-username').value.trim();
  const p=document.getElementById('login-password').value.trim();
  const stored=JSON.parse(localStorage.getItem('msmeUser'));
  if(!stored){alert('No user found. Please register.');return;}
  if(stored.username===u&&stored.password===p){
    alert('Login successful. (Dashboard integration in next version)');
  } else { alert('Invalid credentials.'); }
}

/* --- AI helper chat --- */
document.getElementById('chat-toggle').addEventListener('click',()=>{
  document.getElementById('chat-box').classList.toggle('hidden')
});
document.getElementById('send-btn').addEventListener('click',()=>{
  const val=document.getElementById('chat-input').value.trim();
  if(!val)return;
  addMsg('You',val);
  document.getElementById('chat-input').value="";
  let reply="I can help you with finance, markets, and technology info.";
  if(val.toLowerCase().includes('finance'))reply="Finance Hub: loans, invoice discounting, P2P lending.";
  if(val.toLowerCase().includes('market'))reply="Market Hub: B2B linkages and export connections.";
  if(val.toLowerCase().includes('tech'))reply="Tech Hub: ERP, CRM, digital tools.";
  setTimeout(()=>addMsg('AI Helper',reply),500);
});
function addMsg(sender,text){
  const m=document.createElement('div');
  m.textContent=`${sender}: ${text}`;
  document.getElementById('chat-messages').appendChild(m);
  document.getElementById('chat-messages').scrollTop=document.getElementById('chat-messages').scrollHeight;
}

/* --- Drag AI helper --- */
const helper=document.getElementById('ai-helper');
let drag=false,ox,oy;
helper.addEventListener('mousedown',e=>{
  drag=true;ox=e.offsetX;oy=e.offsetY;
});
document.addEventListener('mousemove',e=>{
  if(drag){
    helper.style.left=`${e.pageX-ox}px`;
    helper.style.top=`${e.pageY-oy}px`;
    helper.style.right='auto';
    helper.style.bottom='auto';
    helper.style.position='absolute';
  }
});
document.addEventListener('mouseup',()=>drag=false);

/* --- Scroll animations (restart on scroll up) --- */
function observeCards(){
  const observer=new IntersectionObserver(entries=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        entry.target.classList.add('visible');
      } else {
        entry.target.classList.remove('visible');
      }
    });
  },{threshold:0.2});
  document.querySelectorAll('.card').forEach(card=>observer.observe(card));
}
observeCards();

/* --- Focus Area Modal --- */
const focusDetails = {
  finance: {
    title: "Finance Hub",
    content: "Get easy access to loans, invoice discounting, peer-to-peer lending, and credit building tools.",
    links: ["Apply for Digital Loan", "Learn about Invoice Discounting"]
  },
  market: {
    title: "Market Access Hub",
    content: "Expand your reach with B2B marketplaces, export linkages, and vendor development programs.",
    links: ["Join B2B Marketplace", "Export Assistance"]
  },
  tech: {
    title: "Technology Hub",
    content: "Adopt digital tools, ERP/CRM systems, and receive mentorship and training.",
    links: ["ERP/CRM Tools", "Tech Mentorship Programs"]
  }
};

const invoiceDiscountingTips = [
  "1. Maintain clear digital records of all invoices and GST filings.",
  "2. Approach fintech platforms like KredX, M1xchange, or TradeReceivables platform (TReDS).",
  "3. Submit unpaid invoices from reliable buyers (with good credit).",
  "4. Negotiate the discounting fee (usually 1-3% of invoice value).",
  "5. Once approved, get funds within 24-72 hours instead of waiting 60-90 days.",
  "6. Use funds to improve cash flow, buy raw materials, or scale production.",
  "7. Ensure timely repayment when the buyer pays the invoice to avoid penalties."
];

function createModal(id){
  const detail = focusDetails[id];
  const modal = document.createElement('div');
  modal.style.position = 'fixed';
  modal.style.top = 0;
  modal.style.left = 0;
  modal.style.width = '100%';
  modal.style.height = '100%';
  modal.style.background = 'rgba(0,0,0,0.6)';
  modal.style.display = 'flex';
  modal.style.alignItems = 'center';
  modal.style.justifyContent = 'center';
  modal.style.zIndex = 1000;

  // Modal HTML
  modal.innerHTML = `
    <div style="background:white;padding:20px;border-radius:10px;max-width:420px;text-align:center">
      <h2>${detail.title}</h2>
      <p>${detail.content}</p>
      <div id="modal-buttons"></div>
      <br>
      <button style="margin-top:10px;padding:10px 15px;border:none;border-radius:5px;background:#aaa;color:white;cursor:pointer" id="closeModal">Close</button>
    </div>`;
  document.body.appendChild(modal);

  // Close event
  modal.querySelector('#closeModal').addEventListener('click',()=>modal.remove());

  // Add buttons dynamically
  const btnContainer = modal.querySelector('#modal-buttons');
  detail.links.forEach(link => {
    const btn = document.createElement('button');
    btn.textContent = link;
    btn.style.margin = "5px";
    btn.style.padding = "10px 15px";
    btn.style.background = "#003366";
    btn.style.color = "white";
    btn.style.border = "none";
    btn.style.borderRadius = "5px";
    btn.style.cursor = "pointer";

    btn.addEventListener('click', () => {
      if (link === "Learn about Invoice Discounting") {
        showInvoiceTips();
      } else {
        alert(`${link} page coming soon!`);
      }
    });

    btnContainer.appendChild(btn);
  });
}

function showInvoiceTips() {
  const tipsModal = document.createElement('div');
  tipsModal.style.position = 'fixed';
  tipsModal.style.top = 0;
  tipsModal.style.left = 0;
  tipsModal.style.width = '100%';
  tipsModal.style.height = '100%';
  tipsModal.style.background = 'rgba(0,0,0,0.6)';
  tipsModal.style.display = 'flex';
  tipsModal.style.alignItems = 'center';
  tipsModal.style.justifyContent = 'center';
  tipsModal.style.zIndex = 1100;

  tipsModal.innerHTML = `
    <div style="background:white;padding:20px;border-radius:10px;max-width:450px;max-height:80%;overflow:auto;text-align:left">
      <h2>How to Use Invoice Discounting</h2>
      <ul style="padding-left:20px">
        ${invoiceDiscountingTips.map(tip => `<li>${tip}</li>`).join('')}
      </ul>
      <button style="margin-top:15px;padding:10px 15px;border:none;border-radius:5px;background:#aaa;color:white;cursor:pointer" id="closeTips">Close</button>
    </div>`;
  
  document.body.appendChild(tipsModal);
  tipsModal.querySelector('#closeTips').addEventListener('click',()=>tipsModal.remove());
}

/* Add click events to focus area cards */
document.getElementById('financeHub').parentElement.addEventListener('click',()=>createModal('finance'));
document.getElementById('marketHub').parentElement.addEventListener('click',()=>createModal('market'));
document.getElementById('techHub').parentElement.addEventListener('click',()=>createModal('tech'));
</script>

</body>
</html>
